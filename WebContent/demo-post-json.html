<html>
<head>
<script src="js/jquery-2.1.3.js"></script>
<script>
	var BASE = "http://192.168.1.7:8080/blogger/demo/endpoint/";

	$(document).ready(function() {
		initTextarea();
		$("#btnSubmitPOST").click(function() {
			post($("#txtPOST").val());
		});
	});

	/* initialize the textarea with a payload */
	function initTextarea() {
		var payload = {
			"author" : "Patrick O'Brian",
			"id" : 1234,
			"title" : "The Wine Dark Sea"
		};

		alert(JSON.stringify(payload));
		$("#txtPOST").val(JSON.stringify(payload));
	}

	/* post json data */
	function post(id) {
		try {

			var url = BASE + id;
			$.post(url, function(data, status) {
				alert("Data: " + data + "\nStatus: " + status);
			});

		} catch (e) {
			alert(e);
		}
	}
</script>
</head>

<body>
	<h3>Demonstrate JSON POST</h3>
	<textarea name="id" id="txtPOST" class="id" rows="4" cols="50"></textarea>
	<input id="btnSubmitPOST" type="submit" value="POST" />
</body>
</html>
