<html>
<head>
<script src="js/jquery-2.1.3.js"></script>
<script>

	var BASE = "http://localhost:8080/blogger/demo/endpoint/";

	$(document).ready(function() {
		initTextarea();

		$("#btnSubmitGET").click(function() {
			get($("#txtGET").val());
		});

		$("#btnSubmitPOST").click(function() {
			post($("#txtPOST").val());
		});
	});

	/* initialize the textarea with a payload */
	function initTextarea() {
		var payload = {
			"author" : "Patrick O'Brian",
			"id" : 1234,
			"title" : "The Wine Dark Sea"
		};

		$("#txtPOST").val(JSON.stringify(payload));
	}

	/* get data by id */
	function get(id) {
		var url = BASE + id;
		$.getJSON(url, function(data) {
			var items = [];
			$.each(data, function(key, val) {
				items.push("<li id='" + key + "'>" + val + "</li>");
			});

			$("<ul/>", {
				"class" : "my-new-list",
				html : items.join("")
			}).appendTo("body");
		});
	}

	/* post json data */
	function post(id) {
		try {
			
			var url = BASE + id;
			$.post(url, function(data, status) {
				alert("Data: " + data + "\nStatus: " + status);
			});
			
		} catch (e) {
			alert(e);
		}
	}
</script>
</head>

<body>

	<h3>Demonstrate GET</h3>
	<input type="text" name="id" value="9956" id="txtGET" class="id" />
	<input id="btnSubmitGET" type="submit" value="GET" />
	<br />
	<br />
	<br />

	<h3>Demonstrate JSON POST</h3>
	<textarea name="id" id="txtPOST" class="id" rows="4" cols="50"></textarea>
	<input id="btnSubmitPOST" type="submit" value="POST" />
	<br />
	<br />
	<br />

	<h3>Demonstrate HTML Form POST</h3>
	<form action="http://localhost:8080/blogger/demo/endpoint/form"
		method="post">
		<p>
			ID : <input type="text" name="id" value="123" />
		</p>
		<p>
			Author : <input type="text" name="author" value="Patrick OBrian" />
		</p>
		<p>
			Title : <input type="text" name="title" value="The Wine Dark Sea" />
		</p>
		<input type="submit" value="POST" />
	</form>
	<br />
	<br />
	<br />



</body>
</html>
